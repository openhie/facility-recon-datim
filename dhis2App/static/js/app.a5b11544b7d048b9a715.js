webpackJsonp([1],{"7zck":function(e,t){},Aleh:function(e,t){},NHnr:function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=l("7+uW"),i=l("mtWM"),a=l.n(i),n={data:function(){return{fixed:!1,title:"Facility Reconciliation"}},methods:{getOrgHierarchy:function(){var e=this;a.a.get("http://localhost:3000/hierarchy/XtxUYCsDWrR").then(function(t){e.$store.state.datimHierarchy=t})}},created:function(){this.getOrgHierarchy()},name:"App"},s={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-app",[l("v-toolbar",{attrs:{color:"primary",dark:"",app:""}},[l("v-toolbar-title",{domProps:{textContent:e._s(e.title)}}),e._v(" "),l("v-toolbar-items",[l("v-btn",{attrs:{to:"/",flat:""}},[e._v("Home")]),e._v(" "),l("v-btn",{attrs:{to:"upload",flat:""}},[e._v("Upload")]),e._v(" "),l("v-btn",{attrs:{to:"view",flat:""}},[e._v("View")]),e._v(" "),l("v-btn",{attrs:{flat:""}},[e._v("Reconcile")])],1)],1),e._v(" "),l("v-content",[l("router-view")],1),e._v(" "),l("v-footer",{attrs:{dark:"",color:"primary",fixed:e.fixed,app:""}},[l("span",[e._v("Â© 2018")])])],1)},staticRenderFns:[]},o=l("VU/8")(n,s,!1,null,null,null).exports,v=l("/ocq"),c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("v-container",{attrs:{fluid:""}},[t("v-slide-y-transition",{attrs:{mode:"out-in"}},[t("v-card",[t("v-card-title",{attrs:{"primary-title":""}},[t("h3",{staticClass:"headline mb-0"},[this._v("PEPFAR/MoH Data Alignment")])]),this._v(" "),t("v-card-text",[t("p",[this._v("The diplomatic cable outlining the PEPFAR and Ministry of Health Data Alignment activity that was sent to your missions on July 11 requesting from host country Ministries of Health HIV program results for the most recent 12-month period for key indicators including: (1) number of people tested for HIV and were positive; (2) through Prevention of Mother-to-Child Transmission (PMTCT) program, number of women tested for HIV and were positive and on HIV treatment; (3) number of people newly initiating HIV treatment; (4) number of people currently on HIV treatment; and (5) number of people and percentage retained on HIV treatment. As indicated in the cable, S/GAC will support country teams in the organization and importation of these data, including expanded health information systems support and data visualization. This will be a multi-step process, including: (a) rapid review of current MoH health information systems; (b) mapping indicators and sites; (c) importing data into the DATIM database; and (d) identification and technical support to areas needing strengthening for routine data availability and use.")])])],1)],1)],1)},staticRenderFns:[]};var d=l("VU/8")(null,c,!1,function(e){l("Aleh")},"data-v-5ff61ec2",null).exports,u=l("+cKO"),h={data:function(){return{file:"",uploadedFileName:"",e1:0,facility:null,code:null,lat:null,long:null,level1:null,level2:null,level3:null,level4:null,level5:null,level6:null,level7:null,uploadedHeaders:[],mappedHeaders:[],valid:!1}},validations:{facility:{required:u.required},code:{required:u.required},lat:{required:u.required},long:{required:u.required},level1:{required:u.required},level2:{required:u.required},level3:{required:u.required},level4:{required:u.required}},methods:{fileSelected:function(e){this.uploadedFileName=e.target.files[0].name,this.file=e.target.files[0];var t=new FileReader;t.addEventListener("load",function(){for(var e=t.result,l=e.byteLength,r=new Uint8Array(e,0),i="",a=0;a<l;a++){var n=String.fromCharCode(r[a]);if(null===n.match(/[^\r\n]+/g))break;i+=n}this.uploadedHeaders=i.split(",")}.bind(this),!1),t.readAsArrayBuffer(e.target.files[0])},submitCSV:function(){var e=this,t=new FormData;t.append("file",this.file),t.append("facility",this.facility),t.append("code",this.code),t.append("lat",this.lat),t.append("long",this.long),t.append("level1",this.level1),t.append("level2",this.level2),t.append("level3",this.level3),t.append("level4",this.level4),t.append("level5",this.level5),t.append("level6",this.level6),t.append("level7",this.level7),a.a.post("http://localhost:3000/reconcile/XtxUYCsDWrR",t,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){e.$store.state.mohHierarchy=t}).catch(function(e){console.log(e)})}},computed:{facilityErrors:function(){var e=[];return this.$v.facility.$dirty?(!this.$v.facility.required&&e.push("Facility is required"),e):e},codeErrors:function(){var e=[];return this.$v.code.$dirty?(!this.$v.code.required&&e.push("Code is required"),e):e},latErrors:function(){var e=[];return this.$v.lat.$dirty?(!this.$v.lat.required&&e.push("Latitude is required"),e):e},longErrors:function(){var e=[];return this.$v.long.$dirty?(!this.$v.long.required&&e.push("Longitude is required"),e):e},level1Errors:function(){var e=[];return this.$v.level1.$dirty?(!this.$v.level1.required&&e.push("Level 1 is required"),e):e},level2Errors:function(){var e=[];return this.$v.level2.$dirty?(!this.$v.level2.required&&e.push("Level 2 is required"),e):e},level3Errors:function(){var e=[];return this.$v.level3.$dirty?(!this.$v.level3.required&&e.push("Level 3 is required"),e):e},level4Errors:function(){var e=[];return this.$v.level4.$dirty?(!this.$v.level4.required&&e.push("Level 4 is required"),e):e},filteredItemFacility:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.code&&t!==e.lat&&t!==e.long&&t!==e.level1&&t!==e.level2&&t!==e.level3&&t!==e.level4&&t!==e.level5&&t!==e.level6&&t!==e.level7})},filteredItemCode:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.lat&&t!==e.long&&t!==e.level1&&t!==e.level2&&t!==e.level3&&t!==e.level4&&t!==e.level5&&t!==e.level6&&t!==e.level7})},filteredItemLat:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.long&&t!==e.level1&&t!==e.level2&&t!==e.level3&&t!==e.level4&&t!==e.level5&&t!==e.level6&&t!==e.level7})},filteredItemLong:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.lat&&t!==e.level1&&t!==e.level2&&t!==e.level3&&t!==e.level4&&t!==e.level5&&t!==e.level6&&t!==e.level7})},filteredItemLevel1:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.lat&&t!==e.long&&t!==e.level2&&t!==e.level3&&t!==e.level4&&t!==e.level5&&t!==e.level6&&t!==e.level7})},filteredItemLevel2:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.lat&&t!==e.long&&t!==e.level1&&t!==e.level3&&t!==e.level4&&t!==e.level5&&t!==e.level6&&t!==e.level7})},filteredItemLevel3:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.lat&&t!==e.long&&t!==e.level1&&t!==e.level2&&t!==e.level4&&t!==e.level5&&t!==e.level6&&t!==e.level7})},filteredItemLevel4:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.lat&&t!==e.long&&t!==e.level1&&t!==e.level2&&t!==e.level3&&t!==e.level5&&t!==e.level6&&t!==e.level7})},filteredItemLevel5:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.lat&&t!==e.long&&t!==e.level1&&t!==e.level2&&t!==e.level3&&t!==e.level4&&t!==e.level6&&t!==e.level7})},filteredItemLevel6:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.lat&&t!==e.long&&t!==e.level1&&t!==e.level2&&t!==e.level3&&t!==e.level4&&t!==e.level5&&t!==e.level7})},filteredItemLevel7:function(){var e=this;return this.uploadedHeaders.filter(function(t){return t!==e.facility&&t!==e.code&&t!==e.lat&&t!==e.long&&t!==e.level1&&t!==e.level2&&t!==e.level3&&t!==e.level4&&t!==e.level5&&t!==e.level6})}}},f={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-container",{attrs:{fluid:""}},[l("v-slide-y-transition",{attrs:{mode:"out-in"}},[l("v-stepper",{model:{value:e.e1,callback:function(t){e.e1=t},expression:"e1"}},[l("v-stepper-header",[l("v-stepper-step",{attrs:{step:"1",complete:e.e1>1}},[e._v("Upload MoH CSV")]),e._v(" "),l("v-divider"),e._v(" "),l("v-stepper-step",{attrs:{step:"2",complete:e.e1>2}},[e._v("Map Headers")])],1),e._v(" "),l("v-stepper-items",[l("v-stepper-content",{attrs:{step:"1"}},[l("v-card",{staticClass:"mb-5",attrs:{height:"200px"}},[l("v-card-title",[e._v("Upload MoH CSV")]),e._v(" "),l("v-card-text",[l("div",{staticClass:"btn btn-primary jbtn-file"},[e._v("Upload CSV"),l("input",{attrs:{type:"file"},on:{change:e.fileSelected}})]),e._v("\n              "+e._s(e.uploadedFileName)+"\n                \n            ")])],1),e._v(" "),l("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){e.e1=2}}},[e._v("Continue")]),e._v(" "),l("v-btn",{attrs:{flat:""}},[e._v("Cancel")])],1),e._v(" "),l("v-stepper-content",{attrs:{step:"2"}},[l("v-container",{attrs:{fluid:""}},[l("v-layout",{ref:"form",attrs:{row:"",wrap:""},model:{value:e.valid,callback:function(t){e.valid=t},expression:"valid"}},[l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Facility*")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemFacility,"error-messages":e.facilityErrors,label:"Select",required:"","single-line":"",clearable:""},on:{blur:function(t){e.$v.facility.$touch()},change:function(t){e.$v.facility.$touch()}},model:{value:e.facility,callback:function(t){e.facility=t},expression:"facility"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Code")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemCode,"error-messages":e.codeErrors,label:"Select",required:"","single-line":"",clearable:""},on:{blur:function(t){e.$v.code.$touch()},change:function(t){e.$v.code.$touch()}},model:{value:e.code,callback:function(t){e.code=t},expression:"code"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Latitude")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLat,label:"Select","error-messages":e.latErrors,required:"","single-line":"",clearable:""},on:{blur:function(t){e.$v.lat.$touch()},change:function(t){e.$v.lat.$touch()}},model:{value:e.lat,callback:function(t){e.lat=t},expression:"lat"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Longitude")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLong,label:"Select","error-messages":e.longErrors,required:"","single-line":"",clearable:""},on:{blur:function(t){e.$v.long.$touch()},change:function(t){e.$v.long.$touch()}},model:{value:e.long,callback:function(t){e.long=t},expression:"long"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Level 1")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLevel1,"error-messages":e.level1Errors,required:"",label:"Select","single-line":"",clearable:""},on:{blur:function(t){e.$v.level1.$touch()},change:function(t){e.$v.level1.$touch()}},model:{value:e.level1,callback:function(t){e.level1=t},expression:"level1"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Level 2")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLevel2,"error-messages":e.level2Errors,label:"Select",required:"","single-line":"",clearable:""},on:{blur:function(t){e.$v.level2.$touch()},change:function(t){e.$v.level2.$touch()}},model:{value:e.level2,callback:function(t){e.level2=t},expression:"level2"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Level 3")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLevel3,"error-messages":e.level3Errors,label:"Select",required:"","single-line":"",clearable:""},on:{blur:function(t){e.$v.level3.$touch()},change:function(t){e.$v.level3.$touch()}},model:{value:e.level3,callback:function(t){e.level3=t},expression:"level3"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Level 4")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLevel4,"error-messages":e.level4Errors,required:"",label:"Select","single-line":"",clearable:""},on:{blur:function(t){e.$v.level4.$touch()},change:function(t){e.$v.level4.$touch()}},model:{value:e.level4,callback:function(t){e.level4=t},expression:"level4"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Level 5")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLevel5,label:"Select",required:"","single-line":"",clearable:""},model:{value:e.level5,callback:function(t){e.level5=t},expression:"level5"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Level 6")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLevel6,label:"Select","single-line":"",clearable:""},model:{value:e.level6,callback:function(t){e.level6=t},expression:"level6"}})],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-subheader",[e._v("Level 7")])],1),e._v(" "),l("v-flex",{attrs:{xs6:""}},[l("v-select",{attrs:{items:e.filteredItemLevel7,label:"Select","single-line":"",clearable:""},model:{value:e.level7,callback:function(t){e.level7=t},expression:"level7"}})],1)],1)],1),e._v(" "),l("v-btn",{attrs:{color:"primary"},nativeOn:{click:function(t){return e.submitCSV(t)}}},[e._v("Upload")]),e._v(" "),l("v-btn",{attrs:{color:"error"},nativeOn:{click:function(t){e.e1=1}}},[e._v("Go Back")])],1)],1)],1)],1)],1)},staticRenderFns:[]};var m=l("VU/8")(h,f,!1,function(e){l("OMYK")},"data-v-dc9ebfe8",null).exports,p={data:function(){return{headers:[{text:"Country",value:"country"},{text:"Region",value:"region"},{text:"District",value:"district"},{text:"Facility",value:"facility"},{text:"Latitude",value:"latitude"},{text:"Longitude",value:"longitude"}]}},computed:{datimGridData:function(){var e=[{country:"Text",region:"Test",district:"Test",facility:"Test",latitude:1.11,longitude:1.11}];for(var t in this.datimTreeData)for(var l in this.datimTreeData[t].children)for(var r in this.datimTreeData[t].children[l].children)for(var i in this.datimTreeData[t].children[l].children[r].children)for(var a in this.datimTreeData[t].children[l].children[r].children[i].children)e.push({country:this.datimTreeData[t].text,region:this.datimTreeData[t].children[l].text,district:this.datimTreeData[t].children[l].children[r].text,county:this.datimTreeData[t].children[l].children[r].children[i].text,facility:this.datimTreeData[t].children[l].children[r].children[i].children[a].text,latitude:this.datimTreeData[t].children[l].children[r].children[i].children[a].lat,longitude:this.datimTreeData[t].children[l].children[r].children[i].children[a].long});return e},mohGridData:function(){var e=[{country:"Text",region:"Test",district:"Test",facility:"Test",latitude:1.11,longitude:1.11}];for(var t in this.mohTreeData)for(var l in this.mohTreeData[t].children)for(var r in this.mohTreeData[t].children[l].children)for(var i in this.mohTreeData[t].children[l].children[r].children)for(var a in this.mohTreeData[t].children[l].children[r].children[i].children)e.push({country:this.mohTreeData[t].text,region:this.mohTreeData[t].children[l].text,district:this.mohTreeData[t].children[l].children[r].text,county:this.mohTreeData[t].children[l].children[r].children[i].text,facility:this.mohTreeData[t].children[l].children[r].children[i].children[a].text,latitude:this.mohTreeData[t].children[l].children[r].children[i].children[a].lat,longitude:this.mohTreeData[t].children[l].children[r].children[i].children[a].long});return e},datimTreeData:function(){return this.$store.state.datimHierarchy.data},mohTreeData:function(){return this.$store.state.mohHierarchy.data}},components:{"liquor-tree":l("ZIfW").a}},_={render:function(){var e=this,t=e.$createElement,l=e._self._c||t;return l("v-container",{attrs:{fluid:""}},[e.datimTreeData?[l("v-slide-y-transition",{attrs:{mode:"out-in"}},[l("v-layout",{attrs:{row:""}},[l("v-flex",{attrs:{xs3:""}},[l("v-card",[l("v-card-title",{attrs:{"primary-title":""}},[l("h3",{staticClass:"headline mb-0"},[e._v("PEPFAR Data Tree")])]),e._v(" "),l("v-card-text",[l("p",[l("liquor-tree",{attrs:{data:e.datimTreeData,options:{}}})],1)])],1)],1),e._v(" "),l("v-flex",{attrs:{xs3:""}},[l("v-card",[l("v-card-title",{attrs:{"primary-title":""}},[l("h3",{staticClass:"headline mb-0"},[e._v("PEPFAR Data Grid")])]),e._v(" "),l("v-card-text",[l("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.datimGridData,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[l("td",[e._v(e._s(t.item.country))]),e._v(" "),l("td",[e._v(e._s(t.item.region))]),e._v(" "),l("td",[e._v(e._s(t.item.district))]),e._v(" "),l("td",[e._v(e._s(t.item.facility))]),e._v(" "),l("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.longitude))]),e._v(" "),l("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.latitude))])]}}])})],1)],1)],1),e._v(" "),l("v-flex",{attrs:{xs3:""}},[l("v-card",[l("v-card-title",{attrs:{"primary-title":""}},[l("h3",{staticClass:"headline mb-0"},[e._v("MoH Data Tree")])]),e._v(" "),l("v-card-text",[l("p",[l("liquor-tree",{attrs:{data:e.mohTreeData,options:{}}})],1)])],1)],1),e._v(" "),l("v-flex",{attrs:{xs3:""}},[l("v-card",[l("v-card-title",{attrs:{"primary-title":""}},[l("h3",{staticClass:"headline mb-0"},[e._v("MoH Data Grid")])]),e._v(" "),l("v-card-text",[l("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.headers,items:e.mohGridData,"hide-actions":""},scopedSlots:e._u([{key:"items",fn:function(t){return[l("td",[e._v(e._s(t.item.country))]),e._v(" "),l("td",[e._v(e._s(t.item.region))]),e._v(" "),l("td",[e._v(e._s(t.item.district))]),e._v(" "),l("td",[e._v(e._s(t.item.facility))]),e._v(" "),l("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.longitude))]),e._v(" "),l("td",{staticClass:"text-xs-right"},[e._v(e._s(t.item.latitude))])]}}])})],1)],1)],1)],1)],1)]:[l("v-progress-linear",{attrs:{indeterminate:!0}})]],2)},staticRenderFns:[]};var g=l("VU/8")(p,_,!1,function(e){l("PEO6")},"data-v-f64f0b9c",null).exports;r.a.use(v.a);var x=new v.a({routes:[{path:"/",name:"FacilityReconHome",component:d},{path:"/upload",name:"FacilityReconUpload",component:m},{path:"/view",name:"FacilityReconView",component:g}]}),y=l("3EgV"),b=l.n(y),$=l("ESwS"),T=l.n($),q=(l("7zck"),l("NYxO"));r.a.use(q.a);var D=new q.a.Store({state:{datimHierarchy:"",mohHierarchy:""}});r.a.use(T.a),r.a.use(b.a,{theme:{primary:"#3F51B5",secondary:"#7986CB",accent:"#9c27b0",error:"#f44336",warning:"#ffeb3b",info:"#2196f3",success:"#4caf50"}}),r.a.config.productionTip=!1,new r.a({el:"#app",router:x,store:D,components:{App:o},template:"<App/>"})},OMYK:function(e,t){},PEO6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.a5b11544b7d048b9a715.js.map